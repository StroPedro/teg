(this.webpackJsonpmayappp=this.webpackJsonpmayappp||[]).push([[8],{170:function(e,a,t){},196:function(e,a){},218:function(e,a,t){"use strict";t.r(a);var s=t(0),c=t(25),n=t.n(c),r=t(33),i=(t(21),t(28),t(20)),d=t(1),o=t(155),j=t(159),l=t.n(j),b=(t(11),t(24)),u=t.n(b),O=t(3),f=t(9),g=(t(22),t(170),t(31)),m=t(171),h=t.n(m),p=t(19),x=t.n(p),v=t(12),N=t.n(v),S=t(217);Object(S.b)("es_ES",(function(e,a,t){return[["justo ahora","ahora mismo"],["hace %s segundos","en %s segundos"],["hace 1 minuto","en 1 minuto"],["hace %s minutos","en %s minutos"],["hace 1 hora","en 1 hora"],["hace %s horas","in %s horas"],["hace 1 dia","en 1 dia"],["hace %s dias","en %s dias"],["hace 1 semana","en 1 semana"],["hace %s semanas","en %s semanas"],["1 mes","en 1 mes"],["hace %s meses","en %s meses"],["hace 1 a\xf1o","en 1 a\xf1o"],["hace %s a\xf1os","en %s a\xf1os"]][a]}));a.default=Object(O.h)((function(e){e.history;var a=Object(d.useState)({email:"",contrasena:""}),t=Object(i.a)(a,2),c=(t[0],t[1],Object(d.useState)({nombre:"",email:"",contrasena:""})),j=Object(i.a)(c,2),b=(j[0],j[1],Object(d.useState)("")),O=Object(i.a)(b,2),m=O[0],p=O[1],v=Object(d.useState)(""),w=Object(i.a)(v,2),k=(w[0],w[1],Object(d.useState)([])),y=Object(i.a)(k,2),E=y[0],C=y[1],R=Object(d.useState)([]),D=Object(i.a)(R,2),P=D[0],T=D[1],_=Object(d.useState)(""),A=Object(i.a)(_,2),z=(A[0],A[1],Object(d.useState)(1)),F=Object(i.a)(z,2),I=(F[0],F[1],Object(d.useState)(1)),J=Object(i.a)(I,2),K=(J[0],J[1],Object(d.useState)(1)),L=Object(i.a)(K,2),U=L[0],q=(L[1],Object(d.useState)("")),B=Object(i.a)(q,2),G=B[0],H=B[1],M=Object(d.useContext)(f.a),Q=M.isAuthentificated,V=(M.setIsAuthentificated,Object(d.useState)(!0)),W=Object(i.a)(V,2),X=(W[0],W[1],Object(d.useState)("")),Y=Object(i.a)(X,2),Z=Y[0],$=(Y[1],Object(d.useState)("")),ee=Object(i.a)($,2),ae=(ee[0],ee[1]),te=Object(d.useState)(!1),se=Object(i.a)(te,2),ce=se[0],ne=se[1],re=Object(d.useState)(!1),ie=Object(i.a)(re,2),de=ie[0],oe=ie[1],je=Object(d.useState)(""),le=Object(i.a)(je,2),be=(le[0],le[1]),ue=Object(d.useState)(!1),Oe=Object(i.a)(ue,2),fe=(Oe[0],Oe[1]),ge=Object(d.useState)(!0),me=Object(i.a)(ge,2),he=(me[0],me[1],Object(d.useState)([])),pe=Object(i.a)(he,2),xe=(pe[0],pe[1],Object(d.useState)("")),ve=Object(i.a)(xe,2),Ne=ve[0],Se=ve[1],we=Object(d.useState)(1),ke=Object(i.a)(we,2),ye=(ke[0],ke[1],function(){var e=Object(r.a)(n.a.mark((function e(a){var t,s,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!Q){e.next=28;break}if(""==G){e.next=22;break}return fe(!0),ne(!1),console.log(G),(t=new FormData).append("user",window.sessionStorage.getItem("user")),t.append("res",G),e.next=11,u.a.post("https://app-node-react.herokuapp.com/RESPONteg/".concat(m),t,{headers:{"Content-Type":"multipart/form-data"}});case 11:return s=e.sent,c=s.data,console.log(c),""!=c&&fe(!0),be(c),ae(""),H(""),e.next=20,Ce();case 20:e.next=26;break;case 22:Se("Respuesta vacia"),console.log("ddddddddddddddddddddddddd"),"<span>No se admite publicaciones vacias</span>",x.a.toast({html:"<span>No se admite publicaciones vacias</span>"});case 26:e.next=28;break;case 28:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()),Ee=function(){var e=Object(r.a)(n.a.mark((function e(){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u()({method:"get",url:"https://app-node-react.herokuapp.com/cogerPreguntaTeg"});case 2:a=e.sent,console.log(a.data[0]._id,"ffffffffffffffffffffffff"),C(a.data),console.log(U,"gggggggggggggggggggggggggggggg"),a.data?(fe(!1),p(a.data[0]._id)):ne(!1),console.log(a.data);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(r.a)(n.a.mark((function e(){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,u()({method:"get",url:"https://app-node-react.herokuapp.com/cogerRespuestasTeg"});case 3:a=e.sent,console.log(a.data,"ffffffffffffffffffffffff"),T(a.data),console.log(U,"gggggggggggggggggggggggggggggg"),a.data?(ne(!0),fe(!1)):ne(!1),console.log(a.data);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.useEffect)((function(){if(Z){var e=new FileReader;e.onloadend=function(){ae(e.result)},e.readAsDataURL(Z)}else ae(null);"loading"==document.readyState?console.log(de):oe(!0)}),[Z]),Object(d.useEffect)((function(){Ee(),Ce()}),[]),Object(s.jsxs)("div",{children:[Object(s.jsx)(g.a,{}),Object(s.jsx)("div",{className:"contenedor-pub",children:Object(s.jsx)("div",{className:"container-img-pub  ",children:Object(s.jsx)("div",{className:"row formulario-contenedor-text-editor ",children:Object(s.jsxs)("form",{className:"formulario",onSubmit:ye,children:[Object(s.jsx)("div",{className:"editor",children:Object(s.jsx)(o.CKEditor,{editor:l.a,data:G,onChange:function(e,a){var t=a.getData();H(t)}})}),Q?"":Object(s.jsx)("div",{className:"respuestaError",children:Object(s.jsx)("p",{children:Ne})}),Q?Object(s.jsx)("button",{type:"submit",className:" btnn btn-small",children:"Publicar"}):Object(s.jsx)("a",{onClick:function(){Se("por favor inicia session")},className:"btnn btn-small",children:"Publicar "})]})})})}),Object(s.jsx)("div",{className:"container titulo-biodiversidades",children:Object(s.jsx)("div",{className:"tema-a-debatir",children:ce?Object(s.jsx)("h1",{children:"tema a debatir esta semana"}):""})}),Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("div",{className:"contenedor-text-previ-100",children:Object(s.jsx)("div",{className:"contenedor-text-previ-50",children:Object(s.jsx)("div",{className:"contenido-teorico",children:ce?h()(G):""})})})}),Object(s.jsx)("div",{className:"containe",children:ce?E.map((function(e){return Object(s.jsx)("div",{className:"pregunta-de-la-semana-100",children:Object(s.jsx)("div",{className:"pregunta-de-la-semana-50",children:Object(s.jsx)("p",{children:e.tegpre})})})})):""}),Object(s.jsx)("div",{className:"container titulo-biodiversidades",children:Object(s.jsx)("div",{className:"tema-a-debatir",children:ce?Object(s.jsx)("h1",{children:"Respuestas"}):""})}),Object(s.jsx)("div",{className:"containe",children:ce?P.map((function(e){return Object(s.jsxs)("div",{className:"res-de-la-semana-100",children:[Object(s.jsx)("div",{className:"res-de-la-semana-50-100",children:Object(s.jsxs)("div",{className:"res-de-la-semana-50-50",children:[Object(s.jsx)("div",{className:"user-res margen-iz",children:Object(s.jsx)("span",{children:e.user})}),Object(s.jsx)("div",{className:"fechas-res margen-iz",children:Object(s.jsx)("span",{children:(a=e.fecha,Object(S.a)(a,"es_ES"))})}),Object(s.jsx)("div",{children:Object(s.jsx)("p",{children:e.numresp})})]})}),Object(s.jsx)("div",{className:"res-de-la-semana-50-100",children:Object(s.jsx)("div",{className:"res-de-la-semana-50-50",children:Object(s.jsx)("div",{className:"res-de-la-semana-50-50-p",children:Object(s.jsx)("p",{children:h()(e.tegres)})})})})]});var a})):Object(s.jsx)("div",{className:"estilos-de-spiner",children:Object(s.jsx)("div",{className:"contenedor-de-spinner",children:Object(s.jsx)(N.a,{type:"TailSpin",color:"#66bb6a",secondaryColor:"#66bb6a",height:40,width:40})})})})]})}))}}]);
//# sourceMappingURL=8.21606873.chunk.js.map