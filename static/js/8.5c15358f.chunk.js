(this.webpackJsonpmayappp=this.webpackJsonpmayappp||[]).push([[8],{170:function(e,t,a){},196:function(e,t){},217:function(e,t,a){"use strict";a.r(t);var s=a(0),c=a(25),n=a.n(c),r=a(32),i=(a(21),a(28),a(20)),o=a(1),d=a(155),j=a(159),l=a.n(j),b=(a(11),a(24)),u=a.n(b),O=a(3),f=a(9),g=(a(22),a(170),a(31)),m=a(171),h=a.n(m),p=(a(19),a(12),a(216));Object(p.b)("es_ES",(function(e,t,a){return[["justo ahora","ahora mismo"],["hace %s segundos","en %s segundos"],["hace 1 minuto","en 1 minuto"],["hace %s minutos","en %s minutos"],["hace 1 hora","en 1 hora"],["hace %s horas","in %s horas"],["hace 1 dia","en 1 dia"],["hace %s dias","en %s dias"],["hace 1 semana","en 1 semana"],["hace %s semanas","en %s semanas"],["1 mes","en 1 mes"],["hace %s meses","en %s meses"],["hace 1 a\xf1o","en 1 a\xf1o"],["hace %s a\xf1os","en %s a\xf1os"]][t]}));t.default=Object(O.h)((function(e){e.history;var t=Object(o.useState)({email:"",contrasena:""}),a=Object(i.a)(t,2),c=(a[0],a[1],Object(o.useState)({nombre:"",email:"",contrasena:""})),j=Object(i.a)(c,2),b=(j[0],j[1],Object(o.useState)("")),O=Object(i.a)(b,2),m=O[0],x=O[1],v=Object(o.useState)(""),N=Object(i.a)(v,2),S=(N[0],N[1],Object(o.useState)([])),w=Object(i.a)(S,2),k=w[0],y=w[1],E=Object(o.useState)([]),C=Object(i.a)(E,2),R=C[0],D=C[1],P=Object(o.useState)(""),_=Object(i.a)(P,2),A=(_[0],_[1],Object(o.useState)(1)),T=Object(i.a)(A,2),z=(T[0],T[1],Object(o.useState)(1)),F=Object(i.a)(z,2),I=(F[0],F[1],Object(o.useState)(1)),J=Object(i.a)(I,2),K=J[0],L=(J[1],Object(o.useState)("")),U=Object(i.a)(L,2),q=U[0],B=U[1],G=Object(o.useContext)(f.a),H=G.isAuthentificated,M=(G.setIsAuthentificated,Object(o.useState)(!0)),Q=Object(i.a)(M,2),V=(Q[0],Q[1],Object(o.useState)("")),W=Object(i.a)(V,2),X=W[0],Y=(W[1],Object(o.useState)("")),Z=Object(i.a)(Y,2),$=(Z[0],Z[1]),ee=Object(o.useState)(!1),te=Object(i.a)(ee,2),ae=(te[0],te[1]),se=Object(o.useState)(!1),ce=Object(i.a)(se,2),ne=ce[0],re=ce[1],ie=Object(o.useState)(""),oe=Object(i.a)(ie,2),de=(oe[0],oe[1]),je=Object(o.useState)(!1),le=Object(i.a)(je,2),be=(le[0],le[1]),ue=Object(o.useState)(!0),Oe=Object(i.a)(ue,2),fe=(Oe[0],Oe[1],Object(o.useState)([])),ge=Object(i.a)(fe,2),me=(ge[0],ge[1],Object(o.useState)("")),he=Object(i.a)(me,2),pe=he[0],xe=he[1],ve=Object(o.useState)(1),Ne=Object(i.a)(ve,2),Se=(Ne[0],Ne[1],function(){var e=Object(r.a)(n.a.mark((function e(t){var a,s,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!H){e.next=19;break}return be(!0),console.log(q),(a=new FormData).append("user",window.sessionStorage.getItem("user")),a.append("res",q),e.next=9,u.a.post("https://app-node-react.herokuapp.com/RESPONteg/".concat(m),a,{headers:{"Content-Type":"multipart/form-data"}});case 9:return s=e.sent,c=s.data,console.log(c),de(c),$(""),B(""),e.next=17,ke();case 17:e.next=19;break;case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),we=function(){var e=Object(r.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u()({method:"get",url:"https://app-node-react.herokuapp.com/cogerPreguntaTeg"});case 2:t=e.sent,console.log(t.data[0]._id,"ffffffffffffffffffffffff"),y(t.data),console.log(K,"gggggggggggggggggggggggggggggg"),t.data?(ae(!0),be(!1),x(t.data[0]._id)):ae(!1),console.log(t.data);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ke=function(){var e=Object(r.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,u()({method:"get",url:"https://app-node-react.herokuapp.com/cogerRespuestasTeg"});case 3:t=e.sent,console.log(t.data,"ffffffffffffffffffffffff"),D(t.data),console.log(K,"gggggggggggggggggggggggggggggg"),t.data.docs?(ae(!0),be(!1)):ae(!1),console.log(t.data);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){if(X){var e=new FileReader;e.onloadend=function(){$(e.result)},e.readAsDataURL(X)}else $(null);"loading"==document.readyState?console.log(ne):re(!0)}),[X]),Object(o.useEffect)((function(){we(),ke()}),[]),Object(s.jsxs)("div",{children:[Object(s.jsx)(g.a,{}),Object(s.jsx)("div",{className:"contenedor-pub",children:Object(s.jsx)("div",{className:"container-img-pub  ",children:Object(s.jsx)("div",{className:"row formulario-contenedor-text-editor ",children:Object(s.jsxs)("form",{className:"formulario",onSubmit:Se,children:[Object(s.jsx)("div",{className:"editor",children:Object(s.jsx)(d.CKEditor,{editor:l.a,data:q,onChange:function(e,t){var a=t.getData();B(a)}})}),H?"":Object(s.jsx)("div",{className:"respuestaError",children:Object(s.jsx)("p",{children:pe})}),H?Object(s.jsx)("button",{type:"submit",className:" btnn btn-small",children:"Publicar"}):Object(s.jsx)("a",{onClick:function(){xe("por favor inicia session")},className:"btnn btn-small",children:"Publicar "})]})})})}),Object(s.jsx)("div",{className:"container titulo-biodiversidades",children:Object(s.jsx)("div",{className:"tema-a-debatir",children:Object(s.jsx)("h1",{children:"tema a debatir esta semana"})})}),Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("div",{className:"contenedor-text-previ-100",children:Object(s.jsx)("div",{className:"contenedor-text-previ-50",children:Object(s.jsx)("div",{className:"contenido-teorico",children:h()(q)})})})}),Object(s.jsx)("div",{className:"containe",children:k.map((function(e){return Object(s.jsx)("div",{className:"pregunta-de-la-semana-100",children:Object(s.jsx)("div",{className:"pregunta-de-la-semana-50",children:Object(s.jsx)("p",{children:e.tegpre})})})}))}),Object(s.jsx)("div",{className:"container titulo-biodiversidades",children:Object(s.jsx)("div",{className:"tema-a-debatir",children:Object(s.jsx)("h1",{children:"Respuestas"})})}),Object(s.jsx)("div",{className:"containe",children:R.map((function(e){return Object(s.jsxs)("div",{className:"res-de-la-semana-100",children:[Object(s.jsx)("div",{className:"res-de-la-semana-50-100",children:Object(s.jsxs)("div",{className:"res-de-la-semana-50-50",children:[Object(s.jsx)("div",{className:"user-res margen-iz",children:Object(s.jsx)("span",{children:e.user})}),Object(s.jsx)("div",{className:"fechas-res margen-iz",children:Object(s.jsx)("span",{children:(t=e.fecha,Object(p.a)(t,"es_ES"))})}),Object(s.jsx)("div",{children:Object(s.jsx)("p",{children:e.numresp})})]})}),Object(s.jsx)("div",{className:"res-de-la-semana-50-100",children:Object(s.jsx)("div",{className:"res-de-la-semana-50-50",children:Object(s.jsx)("div",{className:"res-de-la-semana-50-50-p",children:Object(s.jsx)("p",{children:h()(e.tegres)})})})})]});var t}))})]})}))}}]);
//# sourceMappingURL=8.5c15358f.chunk.js.map