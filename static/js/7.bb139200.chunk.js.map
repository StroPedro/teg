{"version":3,"sources":["components/BotonSubmit.js","users/Registro.js"],"names":["BotonSubmit","withRouter","history","useState","nombre","email","contrasena","user","setUser","useContext","Auth","isAuthentificated","setIsAuthentificated","respuestaDb","setRespuestaDb","handleChange","currentTarget","name","value","e","a","preventDefault","console","log","axios","method","url","data","datos","resp","datosUser","window","sessionStorage","setItem","registrar","response","goBack","useEffect","alt","document","documentElement","scrollHeight","getElementById","style","height","replace","BarradeNavegacion","className","id","onSubmit","type","required","placeholder","onChange","to"],"mappings":"qQAUeA,I,iCCwGAC,uBAvGE,SAAC,GAAe,IAAdC,EAAa,EAAbA,QAAa,EACHC,mBAAS,CAC9BC,OAAO,GACPC,MAAM,GACNC,WAAW,KAJa,mBACrBC,EADqB,KACdC,EADc,OAMuBC,qBAAWC,KAAvDC,EANqB,EAMrBA,kBAAoBC,EANC,EAMDA,qBANC,EAOYT,mBAAS,IAPrB,mBAOrBU,EAPqB,KAOPC,EAPO,KAQtBC,EAAe,SAAC,GAAqB,IAApBC,EAAmB,EAAnBA,cACZC,EAAgBD,EAAhBC,KAAOC,EAASF,EAATE,MACdV,EAAQ,2BAAID,GAAL,kBAAaU,EAAQC,MAVJ,4CAa5B,WAAuBC,GAAvB,qBAAAC,EAAA,6DACGD,EAAEE,iBACFC,QAAQC,IAAIhB,GAFf,SAGwBiB,IAAM,CACtBC,OAAO,OACPC,IAAI,qDACJC,KAAKpB,IANb,cAGUqB,EAHV,gBAQuBA,EAAMD,KAAN,MARvB,cAQUE,EARV,iBAS4BD,EAAMD,KATlC,WASUG,EATV,OAUIR,QAAQC,IAAIM,GACD,6CAARA,EAXP,wBAYQE,OAAOC,eAAeC,QAAQ,OAASH,EAAS,MAZxD,UAa+BI,YAAUL,GAbzC,QAacM,EAbd,OAeQvB,EAAqBuB,GACrBjC,EAAQkC,SAhBhB,wBAkBQtB,EAAegB,GACfR,QAAQC,IAAIO,GAnBpB,6CAb4B,sBA6CxB,OATLO,qBAAU,WAEN,IACMC,EADKC,SAASC,gBAAgBC,aAAa,GAChC,KACjBF,SAASG,eAAe,QAAQC,MAAMC,OAAtC,UAAkDN,GAC9C3B,GACAT,EAAQ2C,QAAQ,UAEpB,CAAE3C,EAAQS,IAEL,gCAED,cAACmC,EAAA,EAAD,IAEA,qBAAKC,UAAU,SAASC,GAAK,OAA7B,SACA,sBAAKD,UAAW,kCAAhB,UACK,qBAAKA,UAAW,sCAAhB,SACI,6CAEJ,uBAAMA,UAAW,aAAaE,SAvDd,4CAuDhB,UACA,qBAAKF,UAAW,wCAAhB,SACQ,uBACAG,KAAK,OACLH,UAAW,aACX9B,KAAK,SAASkC,UAAQ,EACtBC,YAAY,YACZC,SAAUtC,MAId,qBAAKgC,UAAW,wCAAhB,SACI,uBACAG,KAAK,QACLH,UAAW,aACX9B,KAAK,QAAQkC,UAAQ,EACrBC,YAAY,WACZC,SAAUtC,MAGd,qBAAKgC,UAAW,wCAAhB,SACI,uBACAG,KAAK,WACLH,UAAW,aACX9B,KAAK,aAAakC,UAAQ,EAC1BC,YAAY,gBACZC,SAAUtC,MAGd,qBAAKgC,UAAU,iBAAf,SACI,4BAAIlC,MAER,sBAAKkC,UAAU,oBAAf,UACS,wDAA8B,cAAC,IAAD,CAAMO,GAAG,WAAT,iCAEvC,wBACAP,UAAW,kCACXG,KAAK,SAFL","file":"static/js/7.bb139200.chunk.js","sourcesContent":["import React from 'react';\nimport '../styles/BotonSubmit.css'\n\n\nfunction BotonSubmit(props){\n    return(\n             <input  className =\"btn btn-small\" type=\"submit\" value=\"enviar\" />     \n    )\n}\n\nexport default BotonSubmit;","import React , {useState , useEffect , useContext} from \"react\";\r\nimport Auth from '../contexts/Auth'\r\nimport { withRouter , Link} from \"react-router-dom\"\r\nimport { registrar } from \"../services/AuthApi\";\r\nimport Input from '../components/Input'\r\nimport BotonSubmit from '../components/BotonSubmit'\r\nimport BarradeNavegacion from '../components/BarradeNavegacion'\r\nimport Footer from '../components/Footer'\r\nimport axios from 'axios'\r\n\r\n\r\nconst Registro = ({history}) => {\r\n    const [user , setUser] = useState({\r\n        nombre:'',\r\n        email:'',\r\n        contrasena:''\r\n    })\r\n    const {isAuthentificated , setIsAuthentificated} = useContext(Auth)\r\n    const [respuestaDb , setRespuestaDb ] = useState('')\r\n    const handleChange = ({currentTarget}) => {\r\n        const {name , value} = currentTarget;\r\n        setUser({...user , [name] : value})\r\n    }\r\n\r\n    async  function Enviar(e) {\r\n       e.preventDefault()\r\n       console.log(user)\r\n        const datos = await axios({\r\n            method:'post',\r\n            url:'https://app-node-react.herokuapp.com/registro_post' ,\r\n            data:user\r\n        })\r\n        const resp = await datos.data[\"clave\"]\r\n        const datosUser = await datos.data\r\n        console.log(resp)\r\n        if(resp == 'abcdefghigdfdtdgbsojlvkshfjkhjfsvfskfhjkf' ){\r\n            window.sessionStorage.setItem('user' , datosUser[\"user\"])\r\n            const response = await registrar(resp);\r\n            \r\n            setIsAuthentificated(response)\r\n            history.goBack()\r\n        }else{\r\n            setRespuestaDb(datosUser)\r\n            console.log(datosUser)\r\n        }\r\n   }\r\n\r\n   useEffect(() =>{\r\n\r\n       const al = document.documentElement.scrollHeight-64\r\n       const alt = al + \"px\"\r\n       document.getElementById(\"form\").style.height = `${alt}`\r\n       if (isAuthentificated) {\r\n           history.replace(\"user\")\r\n       }\r\n   } , [ history,isAuthentificated ])\r\n        return (\r\n            <div>\r\n           \r\n           <BarradeNavegacion/>\r\n\r\n           <div className=\"formID\" id = \"form\">\r\n           <div className =\"row formulario-contenedor-text \" >\r\n                <div className =\"col s12 texto-encabezado-formulario\">\r\n                    <p>Registrate</p>\r\n                </div>\r\n                <form className =\"formulario\" onSubmit={Enviar} >\r\n                <div className =\"input-field contenedor-input  col s12\">\r\n                        <input \r\n                        type=\"text\" \r\n                        className =\"input-text\" \r\n                        name=\"nombre\" required\r\n                        placeholder=\"tu nombre\"\r\n                        onChange={handleChange} \r\n                        />\r\n                    </div>\r\n\r\n                    <div className =\"input-field contenedor-input  col s12\">\r\n                        <input \r\n                        type=\"email\" \r\n                        className =\"input-text\" \r\n                        name=\"email\" required\r\n                        placeholder=\"tu email\"\r\n                        onChange={handleChange} \r\n                        />\r\n                    </div>\r\n                    <div className =\"input-field contenedor-input  col s12\">\r\n                        <input \r\n                        type=\"password\" \r\n                        className =\"input-text\" \r\n                        name=\"contrasena\" required\r\n                        placeholder=\"tu contrasena\"\r\n                        onChange={handleChange} \r\n                        />\r\n                    </div>\r\n                    <div className=\"respuestaError\">\r\n                        <p>{respuestaDb}</p>\r\n                    </div>\r\n                    <div className=\"Registrarse-si-no\">\r\n                             <p>Si  tienes una cuenta  </p><Link to=\"/iniciar\">Inicia session !</Link>\r\n                    </div>\r\n                    <button \r\n                    className =\"btnn btn-small  green lighten-2\" \r\n                    type=\"submit\">\r\n                        Registrarse\r\n                    </button>\r\n                </form>\r\n            </div>\r\n           </div>\r\n\r\n            </div>\r\n        )\r\n}\r\n\r\nexport default withRouter(Registro);"],"sourceRoot":""}